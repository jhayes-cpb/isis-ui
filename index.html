<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Link to your compiled Tailwind CSS -->
  <link href="dist/dist.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Quicksand:wght@300..700&display=swap"
    rel="stylesheet">
  <link
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=dark_mode,light_mode"
    rel="stylesheet" />
  <title>Login | ISIS | Intergrated Station Information System</title>
</head>

<body>
  <!-- Theme Mode -->
  <button id="dark-mode-toggle">
    <span id="dark-mode-icon" class="material-symbols-outlined">
      dark_mode
    </span>
  </button>
  <!-- Wrapper -->
  <div class="wrapper">
    <div class="wrapper-inner">
      <!-- Brand -->
      <div class="brand">
        <div><img class="logo" src="logo.png" /></div>
      </div>
      <hr>
      <ul class="nav">
        <li><a href="example1/index.html">Stacked</a></li>
        <li><a href="example2/index.html">Row</a></li>
        <li><a href="example3/index.html">2FA Coming Soon</a></li>
        <li><a href="example4/index.html">Optinal 2FA</a></li>
        <li><a href="example5/index.html">Status Messages</a></li>
        <!-- <li><a href="example4/index.html">Example 4</a></li> -->
      </ul>
      <!-- Scripts for theme mode -->
      <script>
        document.addEventListener('DOMContentLoaded', function () {
          const toggleButton = document.getElementById('dark-mode-toggle');
          const icon = document.getElementById('dark-mode-icon');

          if (!toggleButton || !icon) {
            console.error("Dark mode button or icon not found!");
            return;
          }

          function setDarkMode(isDark) {
            document.documentElement.classList.toggle('dark', isDark);
            localStorage.setItem('theme', isDark ? 'dark' : 'light');

            // Force Material Icon to update
            icon.textContent = isDark ? 'light_mode' : 'dark_mode';
            icon.style.display = "none";  // Force reflow
            void icon.offsetWidth;        // Trigger a reflow (hack)
            icon.style.display = "inline-block"; // Restore visibility
          }

          // Retrieve stored preference or use system preference
          const storedTheme = localStorage.getItem('theme');
          const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
          const isDarkMode = storedTheme ? storedTheme === 'dark' : prefersDark;
          setDarkMode(isDarkMode);

          // Toggle dark mode on button click
          toggleButton.addEventListener('click', () => {
            setDarkMode(!document.documentElement.classList.contains('dark'));
          });

          // Auto-update theme if system preference changes
          window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
            setDarkMode(e.matches);
          });
        });
      </script>
</body>

</html>